---
    layout: apidoc
---

<div class="container-fluid">
  <div class="row-fluid">
    <div class="span3">
     {% include apitoc.html %}
    </div>
    <div class="span9">
      
<div class="apidoc">
<h1 class="title">Module josm/command</h1>

<p><p>A collection of functions to create commands which can be applied, undone
and redone on
org.opoenstreetmap.josm.gui.layer.OsmDataLayers.</p></p>







<p>This module provides the following classes:</p>
<ul>

      <li><a href="../classes/AddCommand.html">AddCommand</a></li>

      <li><a href="../classes/ChangeCommand.html">ChangeCommand</a></li>

      <li><a href="../classes/DeleteCommand.html">DeleteCommand</a></li>

</ul>








 


<table class="member-summary">
<tr>
    <th>Name</th>
    <th>Description</th>
</tr>






<tr>
   <td colspan="2" class="section-header">Methods</td>
</tr>

    <tr>
        <td><a href='#add'>add</a></td>
        <td>Creates a command to add a collection of objects</td>
    </tr>

    <tr>
        <td><a href='#change'>change</a></td>
        <td>Creates a command to change a collection of objects</td>
    </tr>

    <tr>
        <td><a href='#combineSelectedWays'>combineSelectedWays</a></td>
        <td>Combines the currently selected ways.</td>
    </tr>

    <tr>
        <td><a href='#combineWays'>combineWays</a></td>
        <td>Combines two or more ways into one resulting way.</td>
    </tr>

    <tr>
        <td><a href='#delete'>delete</a></td>
        <td>Creates a command to delete a collection of objects</td>
    </tr>


</table>



  


<h2>Functions</h2>
    
    <p  id="add" class="member-header">
        add
    </p>
    <p><p>Creates a command to add a collection of objects to a data layer.</p>

<strong>Signatures</strong>
<dl>
  <dt><code class="signature">add(obj, obj, ...)</code> </dt>
  <dd><code>obj</code> are <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Node.html' alt='org.openstreetmap.josm.data.osm.Node' target='javadoc'>Node</a>s,
  <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Way.html' alt='org.openstreetmap.josm.data.osm.Way' target='javadoc'>Way</a>s, or
  <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Relations.html' alt='org.openstreetmap.josm.data.osm.Relations' target='javadoc'>Relations</a>s. Or javascript array
  or Java collections thereof.</dd>
</dl></p>



   <h3>Examples</h3>


{% highlight javascript %}
var cmd = require("josm/command");
var layers = require("josm/layer");
var layer  = layers.get("Data Layer 1");

// add two nodes
cmd.add(n1,n1).applyTo(layer);

// add an array of two nodes and a way
layer.apply(
   cmd.add([n1,n2,w2])
);
{% endhighlight %}



 
    <p  id="change" class="member-header">
        change
    </p>
    <p><p>Creates a command to change a collection of objects in  a data layer.</p>

<strong>Signatures</strong>
<dl>
  <dt><code class="signature">change(obj,obj,..., options)</code> </dt>
  <dd><code>obj</code> are <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Node.html' alt='org.openstreetmap.josm.data.osm.Node' target='javadoc'>Node</a>s,
  <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Way.html' alt='org.openstreetmap.josm.data.osm.Way' target='javadoc'>Way</a>s, or
  <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Relations.html' alt='org.openstreetmap.josm.data.osm.Relations' target='javadoc'>Relations</a>s. Or javascript array
  or Java collections thereof.</dd>
</dl>

The mandatory last argument is an object with named parameters. It accepts t
he following named parameters:
<dl>
  <dt><code class="signature">lat:number</code></dt>
  <dd>Changes the latitude of the target nodes to <code>lat</code>.</dd>

  <dt><code class="signature">lon:number</code></dt>
  <dd>Changes the longitude of the target nodes to <code>lon</code>.</dd>

  <dt><code class="signature">pos:
      <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/coor/LatLon.html' alt='org.openstreetmap.josm.data.coor.LatLon' target='javadoc'>LatLon</a>|object</code></dt>
  <dd>Changes the position of the target nodes to <code>pos</code>.
  pos is either a <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/coor/LatLon.html' alt='org.openstreetmap.josm.data.coor.LatLon' target='javadoc'>LatLon</a> or an
  object <code>{lat:..., lon:...}</code>
  </dd>

  <dt><code class="signature">tags:<a href='http://docs.oracle.com/javase/6/docs/api/java/util/Map.html' alt='java.util.Map' target='javadoc'>Map</a>|object</code></dt>
  <dd>Changes the tags of the target objects to <code>tags</code>.</dd>

  <dt><code class="signature">nodes:<a href='http://docs.oracle.com/javase/6/docs/api/java/util/List.html' alt='java.util.List' target='javadoc'>List</a>|array</code></dt>
  <dd>Changes the nodes of the target way sto <code>nodes</code>.</dd>

  <dt><code class="signature">members:<a href='http://docs.oracle.com/javase/6/docs/api/java/util/List.html' alt='java.util.List' target='javadoc'>List</a>|array</code>
  </dt>
  <dd>Changes the nodes of the target relations to <code>members</code>.</dd>
</dl></p>



   <h3>Examples</h3>


{% highlight javascript %}
var cmd = require("josm/command");
var layers = require("josm/layer");
var layer = layers.get("Data Layer 1");

// change the position of a node
cmd.change(n1,n1, {lat: 123.45, lon: 44.234}).applyTo(layer);

// change the nodes of a way
layer.apply(
   cmd.change(w2, {nodes: [n1,n2,3]})
);

// change the tags of a collection of primitives
cmd.change(n1,n3, w1,r1, {
   tags: {"mycustommtag": "value"}
}).applyTo(layer);
{% endhighlight %}



 
    <p  id="combineSelectedWays" class="member-header">
        combineSelectedWays
    </p>
    <p>Combines the currently selected ways in the active layer into one resulting
way.

Returns without effect if
<ul>
  <li>there is no active layer</li>
  <li>the active layer is not a data layer</li>
  <li>there are less than two selected ways in the active layer</li>
</ul>

Reuses the logic behind the JOSM standard menu entry Tools-&gt;Combine Ways.
If invoked from a script, this may trigger modal dialogs which are presented
to the user, in particular if the direction of the ways has to be reversed
because otherwise they could not be combined.</p>



   <h3>Examples</h3>


{% highlight javascript %}
var cmd = require("josm/command");
var layers = require("josm/layer");
var ds = layers.activeLayer.data;
var ways  = [ds.way(1), ds.way(2), ds.way(3)];
cmd.combineWays(ways);
{% endhighlight %}



 
    <p  id="combineWays" class="member-header">
        combineWays
    </p>
    <p>Combines two or more ways into one resulting way.

Reuses the logic behind the JOSM standard menu entry Tools-&gt;Combine Ways.
If invoked from a script, this may trigger modal dialogs which are presented
to the user, in particular if the direction of the ways has to be reversed
because otherwise they could not be combined.</p>


<h3>Parameters</h3>
<table class="parameters">
<tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
</tr>

<tr>
    <td>ways</td>
    <td></td>
    <td>the ways to be combined</td>
</tr>

</table>


   <h3>Examples</h3>


{% highlight javascript %}
var cmd = require("josm/command");
var layers = require("josm/layer");
var ds = layers.activeLayer.data;
var ways  = [ds.way(1), ds.way(2), ds.way(3)];

// pass in an array ...
cmd.combineWays(ways);
// ... or the individual ways ...
cmd.combineWays(ds.way(1), ds.way(2), ds.way(3));
// ... or any combination thereof.
{% endhighlight %}



 
    <p  id="delete" class="member-header">
        delete
    </p>
    <p><p>Creates a command to delete a collection of objects in  a data layer.</p>

<strong>Signatures</strong>
<dl>
  <dt><code class="signature">delete(obj,obj,..., ?options)</code> </dt>
  <dd><code>obj</code> are <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Node.html' alt='org.openstreetmap.josm.data.osm.Node' target='javadoc'>Node</a>s,
  <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Way.html' alt='org.openstreetmap.josm.data.osm.Way' target='javadoc'>Way</a>s, or
  <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Relations.html' alt='org.openstreetmap.josm.data.osm.Relations' target='javadoc'>Relations</a>s. Or javascript array
  or Java collections thereof.</dd>
</dl></p>



   <h3>Examples</h3>


{% highlight javascript %}
var cmd = require("josm/command");
var layers= require("josm/layer");
var layer = layers.get("Data Layer 1");

// delete two nodes
cmd.delete(n1,n1).applyTo(layer);

// delete an array of two nodes and a way
layer.apply(
   cmd.delete([n1,n2,w2])
);
{% endhighlight %}



 

 
</div>
    </div>
  </div>
</div>
