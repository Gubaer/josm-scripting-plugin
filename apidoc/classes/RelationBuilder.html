---
    layout: apidoc
---

<div class="container-fluid">
  <div class="row-fluid">
    <div class="span3">
     {% include apitoc.html %}
    </div>
    <div class="span9">
      
<div class="apidoc">
<h1 class="title">Class RelationBuilder</h1>
<p>RelationBuilder helps to create OSM
<a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Relation.html' alt='org.openstreetmap.josm.data.osm.Relation' target='javadoc'>Relation</a>s.</p>

<p>Methods of RelationBuilder can be used in a static and in an instance
context.
It isn't necessary to create an instance of RelationBuilder, unless it is
configured with a <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/DataSet.html' alt='org.openstreetmap.josm.data.osm.DataSet' target='javadoc'>DataSet</a>,
which created ways are added to.</p>



{% highlight javascript %}
var RelationBuilder = require("josm/builder").RelationBuilder;
var DataSet = org.openstreetmap.josm.data.osm.DataSet;

var ds = new DataSet();
// create a relation builder without and underlying dataset ...
var rbuilder = new RelationBuilder();
// ... with an underlying dataset ...
rbuilder =  new RelationBuilder(ds);
// ... or using this factory method
rbuilder = RelationBuilder.forDataSet(ds);

// create a new local relation
var r1 = rbuilder.create();

// create a new global way
var r2 = rbuilder.withTags({route: 'bicycle'}).create(123456);

// create a new proxy for a global relation
// (an "incomplete" node in JOSM terminology)
var r3 = rbuilder.createProxy(123456);
{% endhighlight %}

 


<table class="member-summary">
<tr>
    <th>Name</th>
    <th>Description</th>
</tr>






<tr>
   <td colspan="2" class="section-header">Methods</td>
</tr>

    <tr>
        <td><a href='#create'>create</a></td>
        <td>Creates a new relation.</td>
    </tr>

    <tr>
        <td><a href='#createProxy'>createProxy</a></td>
        <td>Creates a new <em>proxy</em> relation.</td>
    </tr>

    <tr>
        <td><a href='#forDataSet'>forDataSet</a></td>
        <td>Creates a new RelationBuilder which adds created relations to a
    dataset</td>
    </tr>

    <tr>
        <td><a href='#withId'>withId</a></td>
        <td>Declares the relation id and version.</td>
    </tr>

    <tr>
        <td><a href='#withMembers'>withMembers</a></td>
        <td>Declares the members of a relation.</td>
    </tr>

    <tr>
        <td><a href='#withTags'>withTags</a></td>
        <td>Declares the tags to be assigned to the new relation.</td>
    </tr>


</table>








<h2>Constructor</h2>

   <p id="RelationBuilder" class="member-header">new RelationBuilder()</p>
   <p><p>Creates a new builder for OSM relations</p></p>
   



<h3>Parameters</h3>
<table class="parameters">
<tr>
   <th>Name</th>
   <th>Type</th>
   <th>Description</th>
</tr>

<tr>
     <td>ds</td>
     <td><a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/DataSet.html' alt='org.openstreetmap.josm.data.osm.DataSet' target='javadoc'>DataSet</a></td>
     <td>(optional) a JOSM
    dataset which created ways are added to. If missing, the created ways
    aren't added to a dataset.</td>
</tr>

</table>





  


<h2>Functions</h2>
    
    <p  id="create" class="member-header">
        create:<a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Relation.html' alt='org.openstreetmap.josm.data.osm.Relation' target='javadoc'>Relation</a>
    </p>
    <p><p>Creates a new relation.</p>

<p>Can be used in an instance or in a static context.</p>

<strong>Optional named arguments in the parameters <code>args</code>
</strong>
<ul>
  <li><var>id</var> - the id of a global relation (number > 0)</li>
  <li><var>version</var> - the version of a global relation (number > 0)
  </li>
  <li><var>members</var> - an array or a list of relation members, nodes,
  ways, or relation</li>
  <li><var>tags</var> - an object with tags. Null values and undefined
  values are ignored. Any other value
  is converted to a string. Leading and trailing white space in keys is
  removed.</li>
</ul></p>


<h3>Parameters</h3>
<table class="parameters">
<tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
</tr>

<tr>
    <td>id</td>
    <td>number</td>
    <td>(optional) a global way id. If missing and not set
    before using <code>withId(..)</code>, creates a new local id.</td>
</tr>

<tr>
    <td>args</td>
    <td>object</td>
    <td>(optional) additional parameters for creating the way</td>
</tr>

</table>


   <h3>Examples</h3>


{% highlight javascript %}
var rb = require("josm/builder").RelationBuilder
var nb = require("josm/builder").NodeBuilder
var member = rb.member;
// create a new local relation
var r1 = rb.create();

// create a new global relation
var r2 = rb.create(12345);

// create a new global relation with version 3 with some tags and two
// members
var r3 = rb.create(12345, {
   version: 3,
   tags: {type: "route"},
   members: [member('house', nb.create()), member(nb.create())]
 });
{% endhighlight %}



 
    <p  id="createProxy" class="member-header">
        createProxy:<a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Relation.html' alt='org.openstreetmap.josm.data.osm.Relation' target='javadoc'>Relation</a>
    </p>
    <p><p>Creates a new <em>proxy</em> relation. A proxy relation is a relation,
for which we only know its global id. In order to know more details
(members, tags, etc.), we would have to download it from the OSM server.
</p>

<p>The method can be used in a static and in an instance context.</p></p>



   <h3>Examples</h3>


{% highlight javascript %}
var rbuilder = require("josm/builder").RelationBuilder;

// a new proxy relation for the global way with id 12345
var r1 = rbuilder.createProxy(12345);
{% endhighlight %}



 
    <p  id="forDataSet" class="member-header">
        forDataSet:<a href='../classs/RelationBuilder.html' alt='RelationBuilder'>RelationBuilder</a>
    </p>
    <p><p>Creates or configures a RelationBuilder which will add created nodes
to the dataset <code>ds</code>.</p></p>



   <h3>Examples</h3>


{% highlight javascript %}
var builder = require("josm/builder");

// create a new relation builder building to a data set
var ds = new org.openstreetmap.josm.data.osm.DataSet();
var rb = builder.RelationBuilder.forDataSet(ds);

// configure an existing relation builder
var wb = new builder.RelationBuilder();
nb = wb.forDataSet(ds);
{% endhighlight %}



 
    <p  id="withId" class="member-header">
        withId:<a href='../classs/RelationBuilder.html' alt='RelationBuilder'>RelationBuilder</a>
    </p>
    <p><p>Declares the global relation id and the global relation version.</p>

<p>The method can be used in a static and in an instance context.</p></p>


<h3>Parameters</h3>
<table class="parameters">
<tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
</tr>

<tr>
    <td>id</td>
    <td>number</td>
    <td>(mandatory) the global relation id. A number > 0.</td>
</tr>

<tr>
    <td>version</td>
    <td>number</td>
    <td>(optional) the global relation version. If present,
   a number > 0. If missing, the version 1 is assumed.</td>
</tr>

</table>


   <h3>Examples</h3>


{% highlight javascript %}
var rbuilder = require("josm/builder").RelationBuilder;
 // creates a global relation with id 12345 an version 12
 var r = rbuilder.withId(12345, 12).create();
{% endhighlight %}



 
    <p  id="withMembers" class="member-header">
        withMembers:<a href='../classs/RelationBuilder.html' alt='RelationBuilder'>RelationBuilder</a>
    </p>
    <p><p>Declares the members of a relation.</p>

<p>Accepts either a vararg list of relation members, nodes, ways or
relations, an array of relation members, nodes ways or relations, or a
Java list of members, nodes, ways or relation.
</p>

<p>The method can be used in a static and in an instance context.</p></p>


<h3>Parameters</h3>
<table class="parameters">
<tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
</tr>

<tr>
    <td>nodes</td>
    <td></td>
    <td>the list of members. See description and examples.</td>
</tr>

</table>


   <h3>Examples</h3>


{% highlight javascript %}
var rbuilder = require("josm/builder").RelationBuilder;
var nbuilder = require("josm/builder").NodeBuilder;
var wbuilder = require("josm/builder").WayBuilder;
var member = require("josm/builder").RelationBuilder.member;

var r1 = rbuilder.withMembers(
  member("house", nbuilder.create()),
  member("house", nbuilder.create()),
  member("street", wbuilder.create())
).create();
{% endhighlight %}



 
    <p  id="withTags" class="member-header">
        withTags:<a href='../classs/RelationBuilder.html' alt='RelationBuilder'>RelationBuilder</a>
    </p>
    <p><p>Declares the tags to be assigned to the new relation.</p>

<p>The method can be used in a static and in an instance context.</p></p>


<h3>Parameters</h3>
<table class="parameters">
<tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
</tr>

<tr>
    <td>tags</td>
    <td>object</td>
    <td>(optional) the tags</td>
</tr>

</table>


   <h3>Examples</h3>


{% highlight javascript %}
var rbuilder = require("josm/builder").RelationBuilder;
// a new global relation with the global id 12345 and tags route="bicycle"
//and name="n8"
var r1 = rbuilder.withTags({name:"n8", route:"bicycle"}).create(12345);

// a new local node tags name=test and highway=road
var tags = {
     name    : "n8",
     route : "bicycle"
};
var r2 = rbuilder.withTags(tags).create();
{% endhighlight %}



 

 
</div>

    </div>
  </div>
</div>
