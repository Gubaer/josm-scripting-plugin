
<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	<title>JOSM Scripting Plugin - JS API documentation</title>
	<link rel="stylesheet" href="../../stylesheets/styles.css">
	<link rel="stylesheet" href="../../stylesheets/pygment_trac.css">
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script src="../../stylesheets/respond.js"></script>
    <link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeRDark.css" rel="stylesheet" type="text/css" />
	<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
	<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js" type="text/javascript"></script>
	<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shAutoloader.js" type="text/javascript"></script>
	<link rel="stylesheet" href="../../stylesheets/apidoc.css">
	<!--[if lt IE 9]>
	      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	    <![endif]-->
	<!--[if lt IE 8]>
	    <link rel="stylesheet" href="../../stylesheets/ie.css">
	    <![endif]-->
	<meta name="viewport"
		content="width=device-width, initial-scale=1, user-scalable=no">
	
	</head>
<body>	
	<div class="wrapper">
		<h1>Mixin RelationMixin</h1>		
		


<p><p>This mixin  provides additional properties and methods which you can invoke on an instance of
<a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Relation.html' alt='org.openstreetmap.josm.data.osm.Relation' target='javadoc'>Relation</a>.</p>
 
<p>You can access relation members using 
<pre>relation[i]</pre>, 
see examples below.</p>

<script type="syntaxhighlighter" class="brush:js"><![CDATA[
 
var Relation = org.openstreetmap.josm.data.osm.Relation;
var out = java.lang.System.out;
var relation = new Relation(12345);
 
// use the mixin property 'id' to access the relation id ... 
var id = relation.id;
 
// ... or the native method getUniqueId()
id = relation.getUniqueId();
 
// loop over relation members and print out the roles 
for (var i=0; i < relation.length; i++) {
   out.println(relation[i].role);
}
]]></script>

 
 
 
 
 <table>
 <tr>
 	<th>Name</th>
 	<th>Description</th>
 </tr>
 
 <tr>
   <td colspan="2">Properties</td>
 </tr>
 
    <tr>
    	<td><a href="#length">length</a></td>
    	<td>Replies the number of relation members.</td>
    </tr>
 
    <tr>
    	<td><a href="#members">members</a></td>
    	<td>Set or get the relation members</td>
    </tr>
 
 
 
 
 <tr>
   <td colspan="2">Functions</td>
 </tr>
  
    <tr>
    	<td><a href="#add">add()</a></td>
    	<td></td>
    </tr>
 
    <tr>
    	<td><a href="#getIdAt">getIdAt()</a></td>
    	<td>Replies the object id of a member.</td>
    </tr>
 
    <tr>
    	<td><a href="#getObjectAt">getObjectAt()</a></td>
    	<td>Replies the object of a member.</td>
    </tr>
 
    <tr>
    	<td><a href="#getRoleAt">getRoleAt()</a></td>
    	<td>Replies the role of a member.</td>
    </tr>
 
    <tr>
    	<td><a href="#insertAt">insertAt()</a></td>
    	<td>Inserts one or more members at a position.</td>
    </tr>
 
    <tr>
    	<td><a href="#setAt">setAt()</a></td>
    	<td>Sets one or more members at a position.</td>
    </tr>
 
 
 </table>
 
 
 
 
<p>This mixin extends the mixin <a href='../mixins/OsmPrimitiveMixin.html' alt='OsmPrimitiveMixin'>OsmPrimitiveMixin</a>. Properties and methods of the parent
mixin are available for scripting, too.</p>



<p>This mixin provides additional properties and methods for the native Java class 
<a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Relation.html' alt='org.openstreetmap.josm.data.osm.Relation' target='javadoc'>Relation</a>, whose native public methods are available
for scripting, too. If a native method name is hidden by property name in the mixin,
prefix the native name with <code>$</code>.</p>








<h2>Properties</h2>
      
   <p id="length" class="member-header">length:number</p>
   <p>Replies the number of relation members.</p>
        
     
   <p id="members" class="member-header">members:array</p>
   <p><p>The relation members</p>

<dl>
  <dt>get</dt>
  <dd>replies the current list of relation members as javascript array.</dd>
  
  <dt>set</dt>
  <dd>Assign the list of relation members. Assign null or undefined to remove all members.
   Assign an array or a java.util.List of members. Members can be instances of 
   <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/RelationMember.html' alt='org.openstreetmap.josm.data.osm.RelationMember' target='javadoc'>RelationMember</a>,
   <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Node.html' alt='org.openstreetmap.josm.data.osm.Node' target='javadoc'>Node</a>,
   <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Way.html' alt='org.openstreetmap.josm.data.osm.Way' target='javadoc'>Way</a>, or
   <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Relation.html' alt='org.openstreetmap.josm.data.osm.Relation' target='javadoc'>Relation</a>. 
   null or undefined are ignored.<br/>
   <strong>Note:</strong> you can't assign members to a proxy relation.
  </dd>
</dl></p>
   
		<script type="syntaxhighlighter" class="brush:js"><![CDATA[
var rb = require("josm/builder").RelationBuilder;
var nb = require("josm/builder").NodeBuilder;
var relation = rb.create();

// set members 
relation.members = [nb.create(), rb.member('role.1', rb.create(12345))];

// get members 
var members = relation.members; 
		]]></script>
	     
  
 




<h2>Functions</h2>
   
   <p  id="add" class="member-header">
      add   
   </p>
   <p><p>Adds additional members at the end of the relation members list.</p>

<strong>Signatures</strong>
<dl> 
  <dt><code class="signature">add(m1, m2, ...)</code></dt>
  <dd>Adds a variable number of members. null or undefined are ignored. A member is either an
  instance of <code><a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/RelationMember.html' alt='org.openstreetmap.josm.data.osm.RelationMember' target='javadoc'>RelationMember</a></code> or a 
  <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Node.html' alt='org.openstreetmap.josm.data.osm.Node' target='javadoc'>Node</a>, <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Way.html' alt='org.openstreetmap.josm.data.osm.Way' target='javadoc'>Way</a>,
  or <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Relation.html' alt='org.openstreetmap.josm.data.osm.Relation' target='javadoc'>Relation</a>. If an OSM primitive
  is passed in, a relation member with an empty role is created.</dd>
  <dt><code class="signature">add(array|list)</code></dt>
  <dd>Adds an array or list of members. null or undefined are ignored. A list is either a javascript
  array or an instance of a java List (<code>java.util.List</code>). A list element is either an
  instance of <code><a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/RelationMember.html' alt='org.openstreetmap.josm.data.osm.RelationMember' target='javadoc'>RelationMember</a></code>,
  or  or a  <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Node.html' alt='org.openstreetmap.josm.data.osm.Node' target='javadoc'>Node</a>, <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Way.html' alt='org.openstreetmap.josm.data.osm.Way' target='javadoc'>Way</a>,
  or <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/osm/Relation.html' alt='org.openstreetmap.josm.data.osm.Relation' target='javadoc'>Relation</a>. If an OSM primitive
  is passed in, a relation member with an empty role is created. null and undefined are
  ignored.</dd>
</dl></p>	



   <h3>Examples</h3>
   <script type="syntaxhighlighter" class="brush:js"><![CDATA[
 var rbuilder = require("josm/builder").RelationBuilder;
var nbuilder = require("josm/builder").NodeBuilder;
var relation = rb.create();

// add a member using a RelationMember instance (created with the utility method rbuilder.member(...)
relation.add(rbuilder.member('myrole', nbuilder.create()));

// add three nodes as members, each with the empty role
relation.add(nb.create(), nb.create(), nb.create());

// add an array of members 
var m = [nb.create(), rb.member("role.1", nb.create())];
relation.add(m);
   ]]></script>


  
   <p  id="getIdAt" class="member-header">
      getIdAt:number   
   </p>
   <p><p>Replies the unique object id for the member object at position <var>idx</var>.</p></p>	

<h3>Parameters</h3>
<table>
<tr>
   <th>Name</th>
   <th>Type</th>
   <th>Description</th>
</tr>


<tr>
     <td>idx</td>    
     <td>number</td>
     <td>the index. a number &gt;= 0 and &lt; the current number of members</td>
</tr>

</table>



   <h3>Examples</h3>
   <script type="syntaxhighlighter" class="brush:js"><![CDATA[
 var rb = require("josm/builder").RelationBuilder;
var nb = require("josm/builder").NodeBuilder;
var wb = require("josm/builder").WayBuilder;

// relation has two members 
var relation = rb.withMembers(nb.create(), nb.create()).create();
var id = relation.getIdAt(0);
  
   ]]></script>


  
   <p  id="getObjectAt" class="member-header">
      getObjectAt:object   
   </p>
   <p><p>Replies the object represented by the member at position <code>idx</code>.</p></p>	

<h3>Parameters</h3>
<table>
<tr>
   <th>Name</th>
   <th>Type</th>
   <th>Description</th>
</tr>


<tr>
     <td>idx</td>    
     <td>number</td>
     <td>the index. a number &gt;= 0 and &lt; the current number of members</td>
</tr>

</table>



   <h3>Examples</h3>
   <script type="syntaxhighlighter" class="brush:js"><![CDATA[
 var rb = require("josm/builder").RelationBuilder;
var nb = require("josm/builder").NodeBuilder;
var wb = require("josm/builder").WayBuilder;

// relation has two members 
var n1 = nb.create();
var relation = rb.withMembers(n1, nb.create()).create();
var node = relation.getObjectAt(0)  // ==> n1
  
   ]]></script>


  
   <p  id="getRoleAt" class="member-header">
      getRoleAt:string   
   </p>
   <p><p>Replies the member role for the member at position <code>idx</code>.</p></p>	

<h3>Parameters</h3>
<table>
<tr>
   <th>Name</th>
   <th>Type</th>
   <th>Description</th>
</tr>


<tr>
     <td>idx</td>    
     <td>number</td>
     <td>the index. a number &gt;= 0 and &lt; the current number of members</td>
</tr>

</table>



   <h3>Examples</h3>
   <script type="syntaxhighlighter" class="brush:js"><![CDATA[
 var rb = require("josm/builder").RelationBuilder;
var nb = require("josm/builder").NodeBuilder;
var wb = require("josm/builder").WayBuilder;

// relation has two members 
var relation = rb.withMembers(nb.create(), nb.create()).create();
var role = relation.getRoleAt(0)  // ==> "", the empty role ;
  
   ]]></script>


  
   <p  id="insertAt" class="member-header">
      insertAt   
   </p>
   <p><p>Inserts a member at position <code>idx</code>.</p></p>	

<h3>Parameters</h3>
<table>
<tr>
   <th>Name</th>
   <th>Type</th>
   <th>Description</th>
</tr>


<tr>
     <td>idx</td>    
     <td>number</td>
     <td>the index. a number &gt;= 0 and &lt;= the current number of members</td>
</tr>


<tr>
     <td>the</td>    
     <td>object</td>
     <td>object  either a RelationMember, or a Node, a Way, or a Relation. Must not be null or undefined.</td>
</tr>

</table>



   <h3>Examples</h3>
   <script type="syntaxhighlighter" class="brush:js"><![CDATA[
 var rb = require("josm/builder").RelationBuilder;
var nb = require("josm/builder").NodeBuilder;
var wb = require("josm/builder").WayBuilder;

// create a relation with two members 
var relation = rb.withMembers(nb.create(), nb.create()).create();

// insert another member for a another node at position 0
relation.insertAt(0, nb.create());

// insert a way with role 'role.1' at position 1
relation.insertAt(1, rb.member('role.1', wb.create()));
  
   ]]></script>


  
   <p  id="setAt" class="member-header">
      setAt   
   </p>
   <p><p>Sets a member at position <code>idx</code>.</p></p>	

<h3>Parameters</h3>
<table>
<tr>
   <th>Name</th>
   <th>Type</th>
   <th>Description</th>
</tr>


<tr>
     <td>idx</td>    
     <td>number</td>
     <td>the index. a number &gt;= 0 and &lt; the current number of members</td>
</tr>


<tr>
     <td>the</td>    
     <td>object</td>
     <td>object  either a RelationMember, or a Node, a Way, or a Relation. Must not be null or undefined.</td>
</tr>

</table>



   <h3>Examples</h3>
   <script type="syntaxhighlighter" class="brush:js"><![CDATA[
 var rb = require("josm/builder").RelationBuilder;
var nb = require("josm/builder").NodeBuilder;
var wb = require("josm/builder").WayBuilder;

// relation has two members 
var relation = rb.withMembers(nb.create(), nb.create()).create();

// set  another member for a another node at position 0
relation.setAt(0, nb.create());

// set a way with role 'role.1' at position 1
relation.setAt(1, rb.member('role.1', wb.create()));
  
   ]]></script>


  
 





		
	</div><!-- end wrapper -->
	<script type="text/javascript">
    SyntaxHighlighter.all();
	</script>
	<!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
</body>
</html>