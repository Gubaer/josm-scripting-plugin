
<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	<title>JOSM Scripting Plugin - JS API documentation</title>
	<link rel="stylesheet" href="../../stylesheets/styles.css">
	<link rel="stylesheet" href="../../stylesheets/pygment_trac.css">
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script src="../../stylesheets/respond.js"></script>
    <link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeRDark.css" rel="stylesheet" type="text/css" />
	<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
	<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js" type="text/javascript"></script>
	<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shAutoloader.js" type="text/javascript"></script>
	<link rel="stylesheet" href="../../stylesheets/apidoc.css">
	<!--[if lt IE 9]>
	      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	    <![endif]-->
	<!--[if lt IE 8]>
	    <link rel="stylesheet" href="../../stylesheets/ie.css">
	    <![endif]-->
	<meta name="viewport"
		content="width=device-width, initial-scale=1, user-scalable=no">
	
	</head>
<body>	

     <div class="wrapper">
		<h1>Class ApiConfig</h1>		
		


<p><p>ApiConfig provides methods and properties for configuring API parameters.</p></p>

 
 
 
 
 <table>
 <tr>
 	<th>Name</th>
 	<th>Description</th>
 </tr>
 
 <tr>
   <td colspan="2">Properties</td>
 </tr>
 
    <tr>
    	<td><a href="#authMethod">authMethod</a></td>
    	<td>Get or set the authentication method.</td>
    </tr>
 
    <tr>
    	<td><a href="#defaultServerUrl">defaultServerUrl</a></td>
    	<td>Get the default server URL-</td>
    </tr>
 
    <tr>
    	<td><a href="#serverUrl">serverUrl</a></td>
    	<td>Get or set the API server URL.</td>
    </tr>
 
 
 
 
 <tr>
   <td colspan="2">Functions</td>
 </tr>
  
    <tr>
    	<td><a href="#getCredentials">getCredentials()</a></td>
    	<td>Gets the credentials.</td>
    </tr>
 
    <tr>
    	<td><a href="#setCredentials">setCredentials()</a></td>
    	<td>Set the credentials.</td>
    </tr>
 
 
 </table>
 
 
 
 









<h2>Properties</h2>
      
   <p id="authMethod" class="member-header">authMethod:string</p>
   <p><p>Get or set the authentication method.</p>

<p>JOSM uses two authentication methods:</p>
<dl>
   <dt><code class="signature">basic</code></dt>
   <dd>Basic authentication with a username and a password</dd>
   <dt><code class="signature">oauth</code></dt>
   <dd>Authentication with the <a href="http://oauth.net/">OAuth</a> protocol.</dd>
</dl></p>
   
		<script type="syntaxhighlighter" class="brush:js"><![CDATA[
var conf = require("josm/api").ApiConfig;
conf.authMethod;   // -> the current authentication method

// set OAuth as authentication method
conf.authMethod = "oauth";
		]]></script>
	     
     
   <p id="defaultServerUrl" class="member-header">defaultServerUrl:string</p>
   <p><p>Get the default server URL.</p></p>
   
		<script type="syntaxhighlighter" class="brush:js"><![CDATA[
var conf = require("josm/api").ApiConfig;
conf.defaultServerUrl;   // -> the default server url
		]]></script>
	     
     
   <p id="serverUrl" class="member-header">serverUrl:string</p>
   <p><p>Get or set the API server URL.</p>

<dl>
  <dt><code class="signature">get</code></dt>
  <dd>Replies the currently configured server URL or undefinend, if no server URL is
  configured.</dd>
  <dt><code class="signature">set</code></dt>
  <dd>Sets the current server URL. If null or undefined, removes the current configuration. 
  Accepts either a string or a <a href='http://docs.oracle.com/javase/6/docs/api/java/net/URL.html' alt='java.net.URL' target='javadoc'>URL</a>. Only accepts http or https URLs.
  </dd>
</dl></p>
   
		<script type="syntaxhighlighter" class="brush:js"><![CDATA[
var conf = require("josm/api").ApiConfig;
conf.serverUrl;   // -> the current server url

// set a new API url
conf.serverUrl = "http://api06.dev.openstreetmap.org";  
		]]></script>
	     
  
 




<h2>Functions</h2>
   
   <p  id="getCredentials" class="member-header">
      getCredentials:object   
   </p>
   <p><p>Gets the credentials, i.e. username and password for the basic authentication method.</p>

<strong>Named options</strong>
<dl>
   <dt><code class="signature">host:string</dt>
   <dd>The host name of the API server for which credentials are retrieved. If missing,
   the host name of the currently configured OSM API server is assumed.</dd>
</dl></p>	

<h3>Parameters</h3>
<table>
<tr>
   <th>Name</th>
   <th>Type</th>
   <th>Description</th>
</tr>


<tr>
     <td>authMethod</td>    
     <td>string</td>
     <td>the authentication method. Either "basic" or "oauth".</td>
</tr>


<tr>
     <td>options</td>    
     <td>object</td>
     <td>(optional) additional options (see above)</td>
</tr>

</table>



   <h3>Examples</h3>
   <script type="syntaxhighlighter" class="brush:js"><![CDATA[
 var conf = require("josm/api").ApiConfig;

// get username/password for the current OSM API server 
var credentials = conf.getCredentials("basic");
   ]]></script>


  
   <p  id="setCredentials" class="member-header">
      setCredentials:object   
   </p>
   <p><p>Set the credentials, i.e. username and password for the basic authentication method.</p>

<p>Basic authentication credentials are either an instance of java.net.PasswordAuthentication or
an object <code>{user: string, password: string}</code>.</p>

<p>OAuth authentication credentials are either an instance of <a href='http://josm.openstreetmap.de/doc/org/openstreetmap/josm/data/oauth/OAuthToken.html' alt='org.openstreetmap.josm.data.oauth.OAuthToken' target='javadoc'>OAuthToken</a> or
an object <code>{key: string, secret: string}</code>.</p>
<strong>Named options</strong>
<dl>
   <dt><code class="signature">host:string</dt>
   <dd>The host name of the API server for which credentials are set. If missing,
   the host name of the currently configured OSM API server is assumed.</dd>
</dl></p>	

<h3>Parameters</h3>
<table>
<tr>
   <th>Name</th>
   <th>Type</th>
   <th>Description</th>
</tr>


<tr>
     <td>authMethod</td>    
     <td>string</td>
     <td>the authentication method. Either "basic" or "oauth".</td>
</tr>


<tr>
     <td>credentials</td>    
     <td>object</td>
     <td>the credentials.</td>
</tr>


<tr>
     <td>options</td>    
     <td>object</td>
     <td>(optional) additional options (see above)</td>
</tr>

</table>



   <h3>Examples</h3>
   <script type="syntaxhighlighter" class="brush:js"><![CDATA[
 var conf = require("josm/api").ApiConfig;

// set the credentials
conf.setCredentials("basic", {user:"test", password:"apassword"});
   ]]></script>


  
 





		
	</div><!-- end wrapper -->
          
	
	<script type="text/javascript">
    SyntaxHighlighter.all();
	</script>
	<!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
</body>
</html>