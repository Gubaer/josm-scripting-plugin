{{! --------------------------------------------------------------------- }}
{{! mustache template for the JavaScript wrapper around a required module }}
{{! --------------------------------------------------------------------- }}
(function() {
    const RequireFunction = Java.type('{{& requireFunctionClassName }}')
    const URI = Java.type('java.net.URI')

    const module = {
        exports: {},
        id: '{{& moduleID }}',
        uri: '{{& moduleURI }}'
    }

    const require = (module) => (moduleId) => {
        if (module && module.uri) {
            return new RequireFunction(new URI(module.uri)).apply(moduleId)
        } else {
            return new RequireFunction().apply(moduleId)
        }
    }

    !function(module, exports, require) {

         {{& moduleSource }}

    }(module, module.exports, require(module))

    return module.exports
 }())